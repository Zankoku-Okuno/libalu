// DEPS: <stddef.h> <stdint.h> <stdbool.h> "add_@Tf.h" "sub_@Tf.h" "divmod_@Tf.h"

inline
@TYPE align_upto_@Tf(@TYPE a, @TYPE to, bool* sticky_bit) {
    @TYPE tmp = mod_@Tf(a, to, sticky_bit);
    if (tmp == 0) {
        return a;
    }
    else {
        @TYPE adjust = sub_@Tf(to, tmp, sticky_bit); // TODO is it necessary to use checked arith here?
        return add_@Tf(a, adjust, sticky_bit);
    }
}

inline
@TYPE align_backto_@Tf(@TYPE a, @TYPE to, bool* sticky_bit) {
    @TYPE adjust = mod_@Tf(a, to, sticky_bit);
    return sub_@Tf(a, adjust, sticky_bit); // TODO is it necessary to use checked arith here?
}
